#!/bin/bash
if [[ $EUID -ne 0 ]]; then
   echo "This script must be run as root" 1>&2
   exit 1
fi
echo "Backing up existing config file"
cp tickets/includes/config.php ticketsbak/
cp tickets/.htaccess ticketsbak/.htaccesstickets
cp tickets/.htpasswd ticketsbak/
cp tickets/entry/.htaccess ticketsbak/.htaccessentry
cp tickets/admin/.htaccess ticketsbak/.htaccessadmin
cp tickets/permissions/reservation ticketsbak/
cp tickets/permissions/college ticketsbak/
cp tickets/includes/database_config.php ticketsbak/
#cp tickets/index.html ticketsbak/
cp tickets/res/logo.png ticketsbak/
cp tickets/tc.pdf ticketsbak/
cp tickets/res/charities.html ticketsbak/
rm ticketsbak/receipts/ -rf
mkdir ticketsbak/receipts/
mv tickets/receipts/ ticketsbak/ -f
# place other files in here to back them up
#rm -rf tickets/
#echo "Please provide your zeus credentials for the ticket repo"
#git clone 
#ssh://pc410@zeus.jesus.cam.ac.uk/societies/mayball/tickets.git/
#echo "Chown must be run as root, please enter your password if you have 
#sudo rights"
#sudo chown lm493:mayball tickets/ -R
#cp ticketsbak/config.php tickets/includes/
#cp ticketsbak/.htaccesstickets tickets/.htaccess
#cp ticketsbak/.htpasswd tickets/
#cp ticketsbak/.htaccessentry tickets/entry/.htaccess
#cp ticketsbak/.htaccessadmin tickets/admin/.htaccess
#cp ticketsbak/college tickets/permissions/college
#cp ticketsbak/reservation tickets/permissions/reservation
#cp ticketsbak/database_config.php tickets/includes/
#cp ticketsbak/index.html tickets/
#cp ticketsbak/logo.png tickets/res/
#cp ticketsbak/tc.pdf tickets/
#cp ticketsbak/charities.html tickets/res/
#mv ticketsbak/receipts/* tickets/receipts/ -f
#chmod 775 tickets/receipts/ tickets/receipts/ tickets/includes/config.php
